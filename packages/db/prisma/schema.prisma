generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "mysql"
    url      = env("DATABASE_URL")
}

model Client {
    id             String    @id @default(uuid())
    firstName      String
    lastName       String
    email          String    @unique
    phone          String?   @unique
    birthDate      DateTime
    medicalHistory String?
    createdAt      DateTime  @default(now())
    updatedAt      DateTime  @updatedAt
    deletedAt      DateTime?
    trainerId      String
}

model ProgressRecord {
    id                 String   @id @default(cuid())
    date               DateTime @default(now())
    weight             Float?
    bodyFat            Float?
    armCircumference   Float?
    chestCircumference Float?
    waistCircumference Float?
    hipCircumference   Float?
    clientId           String
    trainerId          String
}

model WorkoutPlan {
    id        String   @id @default(cuid())
    startDate DateTime
    endDate   DateTime
    clientId  String
    createdAt DateTime @default(now())
    trainerId String
}

model WorkoutPlanDay {
    id            String   @id @default(cuid())
    workoutPlanId String
    day           Int
    createdAt     DateTime @default(now())
    updatedAt     DateTime @updatedAt
    trainerId     String
}

enum MuscleTarget {
    Addominali
    Bicipiti
    Deltoidi
    Dorsali
    Quadricipiti
    Femorali
    Glutei
    Pettorali
    Polpacci
    Spalle
    Tricipiti
    Trapezio
    Avambracci
    Adduttori
    Abduttori
    Flessori
    Estensori
}

model Exercise {
    id               String       @id @default(cuid())
    name             String
    description      String?
    videoUrl         String?
    imageUrl         String?
    primaryMuscle    MuscleTarget
    secondaryMuscles String
    instructions     String?
    category         String
    createdAt        DateTime     @default(now())
    updatedAt        DateTime     @updatedAt
    trainerId        String
}

model WorkoutExercise {
    id               String   @id @default(cuid())
    exerciseId       String
    workoutPlanDayId String
    order            Int
    createdAt        DateTime @default(now())
    updatedAt        DateTime @updatedAt
    trainerId        String
    description      String?
}

model WorkoutSet {
    id                String   @id @default(cuid())
    workoutExerciseId String
    setNumber         Int
    reps              Int
    rest              Int
    hold              Int
    eccentric         Int
    concentric        Int
    createdAt         DateTime @default(now())
    updatedAt         DateTime @updatedAt
}

model WorkoutRecordSet {
    id                String   @id @default(cuid())
    workoutPlanDayId  String
    workoutExerciseId String
    workoutSetId      String
    reps              Int
    weight            Float
    rest              Int
    createdAt         DateTime @default(now())
    updatedAt         DateTime @updatedAt
    trainerId         String
}

model WorkoutRecord {
    id               String    @id @default(cuid())
    workoutPlanDayId String
    createdAt        DateTime  @default(now())
    updatedAt        DateTime  @updatedAt
    trainerId        String
    completedAt      DateTime?
    clientId         String
}

model Payment {
    id        String   @id @default(cuid())
    amount    Float
    date      DateTime @default(now())
    planId    String
    clientId  String
    trainerId String
}
